[gd_scene load_steps=11 format=4 uid="uid://wrgig1dh51np"]

[ext_resource type="Script" path="res://scripts/level_signals.gd" id="1_w64fc"]
[ext_resource type="Script" path="res://scripts/tile_map_manager.gd" id="2_em1b2"]
[ext_resource type="Shader" path="res://shaders/pt.gdshader" id="3_3tlqi"]
[ext_resource type="TileSet" uid="uid://dcuwr885x5o64" path="res://resources/MainTileSet.tres" id="4_oetw8"]
[ext_resource type="PackedScene" uid="uid://cyl5behnlkvsh" path="res://scenes/turn_tile.tscn" id="6_3pyfp"]
[ext_resource type="PackedScene" uid="uid://5hyunbfu11ky" path="res://scenes/flag.tscn" id="7_5emx8"]
[ext_resource type="PackedScene" uid="uid://dacyksh0vdcf1" path="res://scenes/car.tscn" id="8_bicmj"]
[ext_resource type="PackedScene" uid="uid://vhipsd830vto" path="res://boulder/boulder.tscn" id="9_js1yy"]
[ext_resource type="PackedScene" uid="uid://c0xd7lvk1llfb" path="res://scenes/path_corner.tscn" id="10_y44wl"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jvw0m"]
shader = ExtResource("3_3tlqi")

[node name="Level One" type="Node2D"]
script = ExtResource("1_w64fc")
CARDS = Array[int]([0, 1, 2, 3, 4, 5, 2])

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="TileMaps" type="Node2D" parent="." node_paths=PackedStringArray("ROAD_LAYER", "WALL_LAYER", "OBJECT_LAYER")]
script = ExtResource("2_em1b2")
ROAD_LAYER = NodePath("RoadLayer")
WALL_LAYER = NodePath("WallLayer")
OBJECT_LAYER = NodePath("ObjectLayer")

[node name="Floor" type="TileMapLayer" parent="TileMaps"]
z_index = -100
scale = Vector2(8, 8)
tile_map_data = PackedByteArray("AADz////AAAEAAkAAADz/wAAAAAEAAkAAADz/wEAAgAnABcAAADz/wIAAgAnABgAAADz/wMAAgAnABgAAADz/wQAAgAnABgAAADz/wUAAgAoABgAAAD0////AAAEAAkAAAD0/wAAAAAEAAkAAAD0/wEAAgAoABcAAAD0/wIAAgAoABgAAAD0/wMAAgAoABgAAAD0/wQAAgAoABgAAAD0/wUAAgAoABgAAAD1////AAAEAAkAAAD1/wAAAAAEAAkAAAD1/wEAAgApABcAAAD1/wIAAgApABgAAAD1/wMAAgApABgAAAD1/wQAAgApABgAAAD1/wUAAgAoABgAAAD2////AAAEAAkAAAD2/wAAAAAEAAkAAAD2/wEAAgAoABUAAAD2/wIAAgAoABUAAAD2/wMAAgAnABcAAAD2/wQAAgAnABgAAAD2/wUAAgAnABgAAAD3////AAAEAAkAAAD3/wAAAAAEAAkAAAD3/wEAAAAEAAkAAAD3/wIAAAAEAAkAAAD3/wMAAgAoABcAAAD3/wQAAgAoABgAAAD3/wUAAgAoABgAAAD4////AAAEAAkAAAD4/wAAAAAEAAkAAAD4/wEAAAAEAAkAAAD4/wIAAAAEAAkAAAD4/wMAAgAoABcAAAD4/wQAAgAoABgAAAD4/wUAAgAoABgAAAD5////AAAEAAkAAAD5/wAAAAAEAAkAAAD5/wEAAAAEAAkAAAD5/wIAAAAEAAkAAAD5/wMAAgApABcAAAD5/wQAAgApABgAAAD5/wUAAgApABgAAAD6////AAAEAAkAAAD6/wAAAAAEAAkAAAD6/wEAAgAoABcAAAD6/wIAAgAoABgAAAD6/wMAAgAoABgAAAD6/wQAAgAoABgAAAD6/wUAAgAoABgAAAD7////AAAEAAkAAAD7/wAAAAAEAAkAAAD7/wEAAAAEAAkAAAD7/wIAAAAEAAkAAAD7/wMAAAAEAAkAAAD7/wQAAAAEAAkAAAD7/wUAAgAnABcAAAD8////AAAEAAkAAAD8/wAAAAAEAAkAAAD8/wEAAAAEAAkAAAD8/wIAAAAEAAkAAAD8/wMAAAAEAAkAAAD8/wQAAAAEAAkAAAD8/wUAAAAEAAkAAAD9////AAAEAAkAAAD9/wAAAAAEAAkAAAD9/wEAAgAoABcAAAD9/wIAAgAoABgAAAD9/wMAAgAoABgAAAD9/wQAAgAoABgAAAD9/wUAAAAEAAkAAAD+/wAAAAAEAAkAAAD+/wEAAgAoABcAAAD+/wIAAgAoABgAAAD+/wMAAgAoABgAAAD+/wQAAgAoABgAAAD+/wUAAAAEAAkAAAD//wAAAAAEAAkAAAD//wEAAgApABcAAAD//wIAAgApABgAAAD//wMAAgApABgAAAD//wQAAgApABgAAAD//wUAAgApABgAAADz/wYAAgAoABgAAADz/wcAAgAoABgAAADz/wgAAgAoABgAAADz/wkAAgAoABgAAADz/woAAgAoABgAAAD0/wYAAgAoABgAAAD0/wcAAgAoABgAAAD0/wgAAgAoABgAAAD0/wkAAgAoABgAAAD0/woAAgAoABgAAAD1/wYAAgAoABgAAAD1/wcAAgAoABgAAAD1/wgAAgAoABgAAAD1/wkAAgAoABgAAAD1/woAAgAoABgAAAD2/wYAAgAnABgAAAD2/wcAAgAoABgAAAD2/wgAAgAoABgAAAD2/wkAAgAoABgAAAD2/woAAgAoABgAAAD3/wYAAgAoABgAAAD3/wcAAgAoABgAAAD3/wgAAgAoABgAAAD3/wkAAgAoABgAAAD3/woAAgAoABgAAAD4/wYAAgAoABgAAAD4/wcAAgAoABgAAAD4/wgAAgAoABgAAAD4/wkAAgAoABgAAAD4/woAAgAoABgAAAD5/wYAAgApABgAAAD5/wcAAgAoABgAAAD5/wgAAgAoABgAAAD5/wkAAgAoABgAAAD5/woAAgAoABgAAAD6/wYAAgAoABgAAAD6/wcAAgAoABgAAAD6/wgAAgAoABgAAAD6/wkAAgAoABgAAAD6/woAAgAoABgAAAD7/wYAAgAnABgAAAD7/wcAAgAnABgAAAD7/wgAAgAnABgAAAD7/wkAAgAnABgAAAD7/woAAgAoABgAAAD8/wYAAgAnABcAAAD8/wcAAgAnABgAAAD8/wgAAgAnABgAAAD8/wkAAgAnABgAAAD8/woAAgAnABgAAAD9/wYAAAAEAAkAAAD9/wcAAAAEAAkAAAD9/wgAAgAnABcAAAD9/wkAAgAnABgAAAD9/woAAgAnABgAAAD+/wYAAAAEAAkAAAD+/wcAAAAEAAkAAAD+/wgAAgAoABcAAAD+/wkAAgAoABgAAAD+/woAAgAoABgAAAD//wYAAAAEAAkAAAD//wcAAAAEAAkAAAD//wgAAgAoABcAAAD//wkAAgAoABgAAAD//woAAgAoABgAAAAAAAYAAgAoABUAAAAAAAcAAgAoABUAAAAAAAgAAgAoABcAAAAAAAkAAgAoABgAAAAAAAoAAgAoABgAAAABAAYAAgAoABUAAAABAAcAAgAoABUAAAABAAgAAgAoABcAAAABAAkAAgAoABgAAAABAAoAAgAoABgAAAACAAgAAwAjAAwAAAADAAgAAwAjAAwAAAADAAcAAwAjAAoAAAACAAcAAwAjAAoAAAACAAYAAwAjAAoAAAADAAYAAwAjAAoAAAADAAUAAwAjAAoAAAACAAUAAwAjAAoAAAAEAAUAAwAjAAoAAAAEAAYAAwAjAAoAAAAFAAUAAwAjAAoAAAAFAAQAAwAjAAoAAAAEAAQAAwAjAAoAAAAEAAMAAwAjAAoAAAAFAAMAAwAjAAoAAAAFAAIAAwAjAAoAAAAFAAEAAwAjAAoAAAAEAAIAAwAjAAoAAAADAAIAAwAjAAoAAAADAAMAAwAjAAoAAAADAAQAAwAjAAoAAAAEAAEAAwAjAAoAAAAGAAEAAwAjAAoAAAAHAAEAAwAjAAoAAAAHAAIAAwAjAAoAAAAGAAIAAwAjAAoAAAAGAAAAAwAjAAoAAAAFAAAAAwAjAAoAAAAGAAUAAwAjAAoAAAAFAAYAAwAjAAoAAAAGAAYAAwAjAAoAAAAHAAYAAwAjAAoAAAAIAAYAAwAjAAoAAAAIAAUAAwAjAAoAAAAHAAUAAwAjAAoAAAAJAAYAAwAjAAoAAAAKAAYAAwAjAAoAAAALAAYAAwAjAAoAAAALAAUAAwAjAAoAAAAKAAUAAwAjAAoAAAAMAAYAAwAjAAoAAAAMAAUAAwAjAAoAAAAMAAQAAwAjAAoAAAAMAAMAAwAjAAoAAAAMAAIAAwAjAAoAAAALAAIAAwAjAAoAAAALAAMAAwAjAAoAAAALAAQAAwAjAAoAAAALAAEAAwAjAAoAAAAMAAEAAwAjAAoAAAANAAEAAwAjAAoAAAAOAAEAAwAjAAoAAAANAAAAAwAjAAoAAAAMAAAAAwAjAAoAAAAOAAAAAwAjAAoAAAANAAIAAwAjAAoAAAANAAMAAwAjAAoAAAAOAAMAAwAjAAoAAAAOAAIAAwAjAAoAAAALAAAAAwAjAAoAAAAJAAUAAwAjAAoAAAA=")
tile_set = ExtResource("4_oetw8")
collision_enabled = false
navigation_visibility_mode = 1
metadata/_edit_lock_ = true

[node name="Water" type="TileMapLayer" parent="TileMaps"]
z_index = -100
scale = Vector2(8, 8)
tile_map_data = PackedByteArray("AADy////AgAQAAMAAADy/wAAAgAQAAMAAADy/wEAAgAQAAMAAADy/wIAAgAQAAMAAADy/wMAAgAQAAMAAADy/wQAAgAQAAMAAADy/wUAAgAQAAMAAADy/wYAAgAQAAMAAADz/wYAAgAQAAMAAADz/wcAAgAQAAMAAADz/wgAAgAQAAMAAADz/wkAAgAQAAMAAADz/woAAgAQAAMAAAD0/wYAAgAQAAMAAAD0/wcAAgAQAAMAAAD0/wgAAgAQAAMAAAD0/wkAAgAQAAMAAAD0/woAAgAQAAMAAAD1/wYAAgAQAAMAAAD1/wcAAgAQAAMAAAD1/wgAAgAQAAMAAAD1/wkAAgAQAAMAAAD1/woAAgAQAAMAAAD2/wcAAgAQAAMAAAD2/wgAAgAQAAMAAAD2/wkAAgAQAAMAAAD2/woAAgAQAAMAAAD3/wcAAgAQAAMAAAD3/wgAAgAQAAMAAAD3/wkAAgAQAAMAAAD3/woAAgAQAAMAAAD4/wcAAgAQAAMAAAD4/wgAAgAQAAMAAAD4/wkAAgAQAAMAAAD4/woAAgAQAAMAAAD5/wcAAgAQAAMAAAD5/wgAAgAQAAMAAAD5/wkAAgAQAAMAAAD5/woAAgAQAAMAAAD6/wQAAgAQAAMAAAD6/wUAAgAQAAMAAAD6/wYAAgAQAAMAAAD6/wcAAgAQAAMAAAD6/wgAAgAQAAMAAAD6/wkAAgAQAAMAAAD6/woAAgAQAAMAAAD7/wcAAgAQAAMAAAD7/wgAAgAQAAMAAAD7/wkAAgAQAAMAAAD7/woAAgAQAAMAAAD8/wgAAgAQAAMAAAD8/wkAAgAQAAMAAAD8/woAAgAQAAMAAAD9/wkAAgAQAAMAAAD9/woAAgAQAAMAAAD+////AgAQAAMAAAD+/wkAAgAQAAMAAAD+/woAAgAQAAMAAAD/////AgAQAAMAAAD//wkAAgAQAAMAAAD//woAAgAQAAMAAAAAAP//AgAQAAMAAAAAAAAAAgAQAAMAAAAAAAEAAgAQAAMAAAAAAAIAAgAQAAMAAAAAAAMAAgAQAAMAAAAAAAQAAgAQAAMAAAAAAAUAAgAQAAMAAAAAAAkAAgAQAAMAAAAAAAoAAgAQAAMAAAABAAkAAgAQAAMAAAABAAoAAgAQAAMAAADy//7/AgAQAAMAAADz//7/AgAQAAMAAADz/wUAAgAMAAUAAAD0//7/AgAQAAMAAAD0/wUAAgAMAAUAAAD1//7/AgAQAAMAAAD1/wUAAgAMAAUAAAD2//7/AgAQAAMAAAD2/wYAAgAMAAUAAAD3//7/AgAQAAMAAAD3/wYAAgAMAAUAAAD4//7/AgAQAAMAAAD4/wYAAgAMAAUAAAD5//7/AgAQAAMAAAD5/wYAAgAMAAUAAAD6//7/AgAQAAMAAAD6/wMAAgAMAAUAAAD7//7/AgAQAAMAAAD7/wYAAgAMAAUAAAD8//7/AgAQAAMAAAD8/wcAAgAMAAUAAAD9//7/AgAQAAMAAAD9/wgAAgAMAAUAAAD+//7/AgAQAAMAAAD+/wgAAgAMAAUAAAD///7/AgAQAAMAAAD//wgAAgAMAAUAAAAAAP7/AgAQAAMAAAAAAAgAAgAMAAUAAAABAAgAAgAMAAUAAAACAAkAAwAVAA0AAAADAAkAAwAVAA0AAAADAAoAAwAVAA0AAAACAAoAAwAVAA0AAAACAAgAAwAVAAsAAAADAAgAAwAVAAsAAAA=")
tile_set = ExtResource("4_oetw8")
collision_enabled = false
navigation_visibility_mode = 1
metadata/_edit_lock_ = true

[node name="FloorDecal" type="TileMapLayer" parent="TileMaps"]
z_index = -100
scale = Vector2(8, 8)
tile_map_data = PackedByteArray("AADy////AwAhAAoAAADy/wAAAwAhAAoAAADy/wEAAwAhAAwAAAD1/wIAAwAhAAoAAAD1/wMAAwAhAAwAAAD6/wIAAwAhAAoAAAD6/wMAAwAhAAoAAAD6/wQAAwAhAAoAAAD6/wUAAwAhAAwAAAD7/wYAAwAhAAwAAAD8/wcAAwAhAAoAAAD8/wgAAwAhAAwAAADy//7/AwAhAAgAAADz//7/AwAiAAgAAAD0//7/AwAiAAgAAAD1//7/AwAiAAgAAAD1/wEAAwAhAAoAAAD2//7/AwAiAAgAAAD3//7/AwAiAAgAAAD4//7/AwAiAAgAAAD5//7/AwAiAAgAAAD6//7/AwAiAAgAAAD6/wEAAwAhAAoAAAD7//7/AwAiAAgAAAD7/wUAAwAhAAoAAAD8//7/AwAiAAgAAAD8/wYAAwAhAAoAAAD9//7/AwAiAAgAAAD9/wQAAwAjAAgAAAD+////AwAiAAgAAAD+/wQAAwAjAAgAAAD/////AwAiAAgAAAD//wUAAwAjAAgAAAAAAAUAAwAjAAgAAAA=")
tile_set = ExtResource("4_oetw8")
collision_enabled = false
navigation_visibility_mode = 1
metadata/_edit_lock_ = true

[node name="FloorDecal2" type="TileMapLayer" parent="TileMaps"]
z_index = -100
scale = Vector2(8, 8)
tile_map_data = PackedByteArray("AAD6/wEAAwAlAAkAAAD6/wIAAwAlAAkAAAD6/wMAAwAlAAwAAAD9/wEAAwAlAAkAAAD9/wIAAwAlAAkAAAD9/wMAAwAlAAkAAAD9/wQAAwAlAAkAAAD//wQAAwAlAAgAAAD//wUAAwAlAAkAAAD+////AwAlAAgAAAAAAAAAAwAlAAgAAAAAAAEAAwAlAAkAAAD+/wAAAwAlAAkAAAAAAAIAAwAlAAwAAAA=")
tile_set = ExtResource("4_oetw8")
collision_enabled = false
navigation_visibility_mode = 1
metadata/_edit_lock_ = true

[node name="RoadLayer" type="TileMapLayer" parent="TileMaps"]
z_index = -100
material = SubResource("ShaderMaterial_jvw0m")
position = Vector2(-32, -32)
scale = Vector2(4, 4)
tile_map_data = PackedByteArray("AAANAPT/AAAEAAUAAAANAPX/AAAEAAcAAAAOAPT/AAAEAAUAAAAOAPX/AAAEAAcAAAAPAPT/AAAEAAUAAAAPAPX/AAAEAAcAAAAQAPT/AAAEAAUAAAAQAPX/AAAEAAcAAAARAPT/AAAEAAUAAAARAPX/AAAEAAcAAAASAPT/AAAEAAUAAAASAPX/AAAEAAcAAAATAPT/AAAEAAUAAAATAPX/AAAEAAYAAAATAPb/AAADAAYAAAATAPf/AAADAAYAAAATAPj/AAADAAYAAAATAPn/AAADAAcAAAAUAPT/AAAFAAUAAAAUAPX/AAAFAAYAAAAUAPb/AAAFAAYAAAAUAPf/AAAFAAYAAAAUAPj/AAAEAAYAAAAUAPn/AAAEAAcAAAAVAPj/AAAEAAUAAAAVAPn/AAAEAAcAAAAWAPj/AAAEAAUAAAAWAPn/AAAEAAcAAAAXAPT/AAAFAAUAABAXAPX/AAAFAAYAABAXAPb/AAADAAYAAAAXAPf/AAADAAYAAAAXAPj/AAAEAAYAACAXAPn/AAAEAAUAACAYAPT/AAAEAAUAABAYAPX/AAAEAAYAABAYAPb/AAAFAAYAAAAYAPf/AAAFAAYAAAAYAPj/AAAFAAYAACAYAPn/AAAFAAUAACAZAPT/AAAEAAUAAAAZAPX/AAAEAAcAAAAaAPT/AAAEAAUAAAAaAPX/AAAEAAcAAAAbAPT/AAAEAAUAAAAbAPX/AAAEAAcAAAAcAPT/AAAEAAUAAAAcAPX/AAAEAAcAAAAdAPT/AAAEAAUAAAAdAPX/AAAEAAUAACAeAPT/AAAEAAUAAAAeAPX/AAAEAAUAACAfAPX/AAAEAAUAACAAAA0AAwAmAAIAAAABAA0AAwAmAAIAAAACAA0AAwAmAAIAAAADAA0AAwAmAAIAAAAEAA0AAwAmAAIAAAAFAA0AAwAnAAQAAAAFAAwAAwAlAAIAAAAGAAwAAwAmAAIAAAAHAAwAAwAmAAIAAAAIAAwAAwAmAAIAAAAJAAwAAwAnAAQAAAAJAAsAAwAnAAMAAAAJAAoAAwAnAAMAAAAJAAkAAwAnAAMAAAAJAAgAAwAnAAMAAAAJAAcAAwAnAAMAAAAJAAYAAwAnAAMAAAAJAAUAAwAnAAMAAAAJAAQAAwAnAAMAAAAJAAMAAwAlAAIAAAAKAAMAAwAmAAIAAAALAAMAAwAmAAIAAAAMAAMAAwAmAAIAAAANAAMAAwAmAAIAAAAOAAMAAwAmAAIAAAAPAAMAAwAmAAIAAAA=")
tile_set = ExtResource("4_oetw8")
collision_enabled = false
navigation_visibility_mode = 1
metadata/_edit_lock_ = true

[node name="RoadLayer2" type="TileMapLayer" parent="TileMaps"]
z_index = -100
material = SubResource("ShaderMaterial_jvw0m")
scale = Vector2(4, 4)
tile_map_data = PackedByteArray("AAAoAPL/AAAFAAMAAAAoAPP/AAAFAAMAAAAoAPT/AAADAAQAAAApAPT/AAAFAAIAAAApAPX/AAAFAAMAAAApAPb/AAADAAQAAAAqAPb/AAAEAAQAAAArAPb/AAAEAAQAAAAsAPb/AAAEAAQAAAAtAPb/AAAEAAQAAAAuAPb/AAAFAAIAAAAuAPf/AAADAAQAAAAvAPf/AAAEAAQAAAAwAPf/AAAEAAQAAAAxAPf/AAAEAAQAAAAyAPf/AAAEAAQAAAAzAPf/AAAEAAQAAAA=")
tile_set = ExtResource("4_oetw8")
collision_enabled = false
navigation_visibility_mode = 1
metadata/_edit_lock_ = true

[node name="WallLayer" type="TileMapLayer" parent="TileMaps"]
z_index = -100
scale = Vector2(8, 8)
tile_set = ExtResource("4_oetw8")
navigation_visibility_mode = 1
metadata/_edit_lock_ = true
metadata/Tag = "Wall"

[node name="ObjectLayer" type="TileMapLayer" parent="TileMaps"]
z_index = -100
scale = Vector2(8, 8)
tile_set = ExtResource("4_oetw8")
navigation_visibility_mode = 1
metadata/_edit_lock_ = true
metadata/Tag = "ObjectLayer"

[node name="Objects" type="Node" parent="."]
metadata/_edit_lock_ = true

[node name="TurnTile" parent="Objects" instance=ExtResource("6_3pyfp")]
position = Vector2(1344, 448)
rotation = 0.0
metadata/Tag = "TurnTile"

[node name="Flag" parent="Objects" instance=ExtResource("7_5emx8")]
position = Vector2(1280, 640)

[node name="Car" parent="Objects" node_paths=PackedStringArray("TILEMAP_MANAGER") instance=ExtResource("8_bicmj")]
unique_name_in_owner = true
position = Vector2(256, 832)
TILEMAP_MANAGER = NodePath("../../TileMaps")

[node name="Boulder" parent="Objects" instance=ExtResource("9_js1yy")]
position = Vector2(896, 128)

[node name="PathDirection2" parent="Objects" instance=ExtResource("10_y44wl")]
position = Vector2(640, 320)
rotation = 0.785397
ENTER = Vector2i(1, 0)
EXIT = Vector2i(0, 1)

[node name="Global Tick" type="Timer" parent="."]
wait_time = 0.5
autostart = true

[connection signal="LevelComplete" from="Objects/Car" to="." method="_on_car_level_complete"]
[connection signal="LevelExit" from="Objects/Car" to="." method="_on_car_level_exit"]
[connection signal="LevelRestart" from="Objects/Car" to="." method="_on_car_level_restart"]
[connection signal="timeout" from="Global Tick" to="Objects/Car" method="_on_global_tick_timeout"]
