[gd_scene load_steps=14 format=4 uid="uid://buwxuyrgvdwoi"]

[ext_resource type="Shader" path="res://shaders/pt.gdshader" id="1_jgt8j"]
[ext_resource type="Script" path="res://scripts/level_signals.gd" id="1_tl82h"]
[ext_resource type="Script" path="res://scripts/tile_map_manager.gd" id="2_5yls3"]
[ext_resource type="TileSet" uid="uid://dcuwr885x5o64" path="res://resources/MainTileSet.tres" id="5_sdjt0"]
[ext_resource type="PackedScene" uid="uid://dacyksh0vdcf1" path="res://scenes/car.tscn" id="6_5k435"]
[ext_resource type="PackedScene" uid="uid://cbhbiqksousog" path="res://scenes/spring.tscn" id="7_r1uog"]
[ext_resource type="PackedScene" uid="uid://5hyunbfu11ky" path="res://scenes/flag.tscn" id="8_eld5y"]
[ext_resource type="PackedScene" uid="uid://cyl5behnlkvsh" path="res://scenes/turn_tile.tscn" id="8_yrypd"]
[ext_resource type="PackedScene" uid="uid://c48r0xgdyxo1f" path="res://scenes/path_direction.tscn" id="9_jmy22"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jvw0m"]
shader = ExtResource("1_jgt8j")

[node name="PrototypeLevelOne" type="Node2D"]

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="TileMaps" type="Node2D" parent="."]
script = ExtResource("2_5yls3")

[node name="TileMapLayer" type="TileMapLayer" parent="TileMaps"]
z_index = -100
material = SubResource("ShaderMaterial_jvw0m")
scale = Vector2(8, 8)
tile_map_data = PackedByteArray("AAAJAA4AAAAEAAkAAAAJAA0AAAAEAAkAAAAJAAwAAAAEAAkAAAAJAAsAAAAEAAkAAAAJAAoAAAAEAAkAAAAJAAkAAAAEAAkAAAAJAAgAAAAEAAkAAAAJAAcAAAAEAAkAAAAJAAYAAAAEAAkAAAAJAAUAAAAEAAkAAAAJAAQAAAAEAAkAAAAJAAMAAAAEAAkAAAAJAAIAAAAEAAkAAAAJAAEAAAAEAAkAAAAIAAEAAAAEAAkAAAAHAAEAAAAEAAkAAAAGAAEAAAAEAAkAAAAFAAEAAAAEAAkAAAAEAAEAAAAEAAkAAAADAAEAAAAEAAkAAAACAAEAAAAEAAkAAAABAAEAAAAEAAkAAAABAAIAAAAEAAkAAAABAAMAAAAEAAkAAAABAAQAAAAEAAkAAAABAAUAAAAEAAkAAAABAAYAAAAEAAkAAAABAAcAAAAEAAkAAAABAAgAAAAEAAkAAAABAAkAAAAEAAkAAAABAAoAAAAEAAkAAAABAAsAAAAEAAkAAAABAAwAAAAEAAkAAAABAA0AAAAEAAkAAAABAA4AAAAEAAkAAAABAA8AAAAEAAkAAAACAA8AAAAEAAkAAAACAA4AAAAEAAkAAAACAA0AAAAEAAkAAAACAAwAAAAEAAkAAAACAAsAAAAEAAkAAAACAAoAAAAEAAkAAAACAAkAAAAEAAkAAAACAAgAAAAEAAkAAAACAAcAAAAEAAkAAAACAAYAAAAEAAkAAAACAAUAAAAEAAkAAAACAAQAAAAEAAkAAAACAAMAAAAEAAkAAAACAAIAAAAEAAkAAAADAAIAAAAEAAkAAAADAAMAAAAEAAkAAAADAAQAAAAEAAkAAAADAAUAAAAEAAkAAAADAAYAAAAEAAkAAAADAAcAAAAEAAkAAAADAAgAAAAEAAkAAAADAAkAAAAEAAkAAAADAAoAAAAEAAkAAAADAAsAAAAEAAkAAAADAAwAAAAEAAkAAAADAA0AAAAEAAkAAAADAA4AAAAEAAkAAAADAA8AAAAEAAkAAAAEAA8AAAAEAAkAAAAEAA4AAAAEAAkAAAAEAA0AAAAEAAkAAAAEAAwAAAAEAAkAAAAEAAsAAAAEAAkAAAAEAAoAAAAEAAkAAAAEAAkAAAAEAAkAAAAEAAgAAAAEAAkAAAAEAAcAAAAEAAkAAAAEAAYAAAAEAAkAAAAEAAUAAAAEAAkAAAAEAAQAAAAEAAkAAAAEAAMAAAAEAAkAAAAEAAIAAAAEAAkAAAAFAAIAAAAEAAkAAAAFAAMAAAAEAAkAAAAFAAQAAAAEAAkAAAAFAAUAAAAEAAkAAAAFAAYAAAAEAAkAAAAFAAcAAAAEAAkAAAAFAAgAAAAEAAkAAAAFAAkAAAAEAAkAAAAFAAoAAAAEAAkAAAAFAAsAAAAEAAkAAAAFAAwAAAAEAAkAAAAFAA0AAAAEAAkAAAAFAA4AAAAEAAkAAAAFAA8AAAAEAAkAAAAGAA8AAAAEAAkAAAAGAA4AAAAEAAkAAAAGAA0AAAAEAAkAAAAGAAwAAAAEAAkAAAAGAAsAAAAEAAkAAAAGAAoAAAAEAAkAAAAGAAkAAAAEAAkAAAAGAAgAAAAEAAkAAAAGAAcAAAAEAAkAAAAGAAYAAAAEAAkAAAAGAAUAAAAEAAkAAAAGAAQAAAAEAAkAAAAGAAMAAAAEAAkAAAAGAAIAAAAEAAkAAAAHAAIAAAAEAAkAAAAHAAMAAAAEAAkAAAAHAAQAAAAEAAkAAAAHAAUAAAAEAAkAAAAHAAYAAAAEAAkAAAAHAAcAAAAEAAkAAAAHAAgAAAAEAAkAAAAHAAkAAAAEAAkAAAAHAAoAAAAEAAkAAAAHAAsAAAAEAAkAAAAHAAwAAAAEAAkAAAAHAA0AAAAEAAkAAAAHAA4AAAAEAAkAAAAHAA8AAAAEAAkAAAAIAA8AAAAEAAkAAAAIAA4AAAAEAAkAAAAIAA0AAAAEAAkAAAAIAAwAAAAEAAkAAAAIAAsAAAAEAAkAAAAIAAoAAAAEAAkAAAAIAAkAAAAEAAkAAAAIAAgAAAAEAAkAAAAIAAcAAAAEAAkAAAAIAAYAAAAEAAkAAAAIAAUAAAAEAAkAAAAIAAQAAAAEAAkAAAAIAAMAAAAEAAkAAAAIAAIAAAAEAAkAAAAJAA8AAAAEAAkAAAAKAA8AAAAEAAkAAAAKAA4AAAAEAAkAAAAKAA0AAAAEAAkAAAAKAAwAAAAEAAkAAAAKAAsAAAAEAAkAAAAKAAoAAAAEAAkAAAAKAAkAAAAEAAkAAAAKAAgAAAAEAAkAAAAKAAcAAAAEAAkAAAAKAAYAAAAEAAkAAAAKAAUAAAAEAAkAAAAKAAQAAAAEAAkAAAAKAAMAAAAEAAkAAAAKAAIAAAAEAAkAAAAKAAEAAAAEAAkAAAALAAEAAAAEAAkAAAALAAIAAAAEAAkAAAALAAMAAAAEAAkAAAALAAQAAAAEAAkAAAALAAUAAAAEAAkAAAALAAYAAAAEAAkAAAALAAcAAAAEAAkAAAALAAgAAAAEAAkAAAALAAkAAAAEAAkAAAALAAoAAAAEAAkAAAALAAsAAAAEAAkAAAALAAwAAAAEAAkAAAALAA0AAAAEAAkAAAALAA4AAAAEAAkAAAALAA8AAAAEAAkAAAAMAA8AAAAEAAkAAAAMAA4AAAAEAAkAAAAMAA0AAAAEAAkAAAAMAAwAAAAEAAkAAAAMAAsAAAAEAAkAAAAMAAoAAAAEAAkAAAAMAAkAAAAEAAkAAAAMAAgAAAAEAAkAAAAMAAcAAAAEAAkAAAAMAAYAAAAEAAkAAAAMAAUAAAAEAAkAAAAMAAQAAAAEAAkAAAAMAAMAAAAEAAkAAAAMAAIAAAAEAAkAAAAMAAEAAAAEAAkAAAANAAEAAAAEAAkAAAANAAIAAAAEAAkAAAANAAMAAAAEAAkAAAANAAQAAAAEAAkAAAANAAUAAAAEAAkAAAANAAYAAAAEAAkAAAANAAcAAAAEAAkAAAANAAgAAAAEAAkAAAANAAkAAAAEAAkAAAANAAoAAAAEAAkAAAANAAsAAAAEAAkAAAANAAwAAAAEAAkAAAANAA0AAAAEAAkAAAANAA4AAAAEAAkAAAANAA8AAAAEAAkAAAAOAA8AAAAEAAkAAAAOAA4AAAAEAAkAAAAOAA0AAAAEAAkAAAAOAAwAAAAEAAkAAAAOAAsAAAAEAAkAAAAOAAoAAAAEAAkAAAAOAAkAAAAEAAkAAAAOAAgAAAAEAAkAAAAOAAcAAAAEAAkAAAAOAAYAAAAEAAkAAAAOAAUAAAAEAAkAAAAOAAQAAAAEAAkAAAAOAAMAAAAEAAkAAAAOAAIAAAAEAAkAAAAOAAEAAAAEAAkAAAAPAAEAAAAEAAkAAAAPAAIAAAAEAAkAAAAPAAMAAAAEAAkAAAAPAAQAAAAEAAkAAAAPAAUAAAAEAAkAAAAPAAYAAAAEAAkAAAAPAAcAAAAEAAkAAAAPAAgAAAAEAAkAAAAPAAkAAAAEAAkAAAAPAAoAAAAEAAkAAAAPAAsAAAAEAAkAAAAPAAwAAAAEAAkAAAAPAA0AAAAEAAkAAAAPAA4AAAAEAAkAAAAPAA8AAAAEAAkAAAAQAA8AAAAEAAkAAAAQAA4AAAAEAAkAAAAQAA0AAAAEAAkAAAAQAAwAAAAEAAkAAAAQAAsAAAAEAAkAAAAQAAoAAAAEAAkAAAAQAAkAAAAEAAkAAAAQAAgAAAAEAAkAAAAQAAcAAAAEAAkAAAAQAAYAAAAEAAkAAAAQAAUAAAAEAAkAAAAQAAQAAAAEAAkAAAAQAAMAAAAEAAkAAAAQAAIAAAAEAAkAAAAQAAEAAAAEAAkAAAARAAEAAAAEAAkAAAARAAIAAAAEAAkAAAARAAMAAAAEAAkAAAARAAQAAAAEAAkAAAARAAUAAAAEAAkAAAARAAYAAAAEAAkAAAARAAcAAAAEAAkAAAARAAgAAAAEAAkAAAARAAkAAAAEAAkAAAARAAoAAAAEAAkAAAARAAsAAAAEAAkAAAARAAwAAAAEAAkAAAARAA0AAAAEAAkAAAARAA4AAAAEAAkAAAARAA8AAAAEAAkAAAASAA8AAAAEAAkAAAASAA4AAAAEAAkAAAASAA0AAAAEAAkAAAASAAwAAAAEAAkAAAASAAsAAAAEAAkAAAASAAoAAAAEAAkAAAASAAkAAAAEAAkAAAASAAgAAAAEAAkAAAASAAcAAAAEAAkAAAASAAYAAAAEAAkAAAASAAUAAAAEAAkAAAASAAQAAAAEAAkAAAASAAMAAAAEAAkAAAASAAIAAAAEAAkAAAASAAEAAAAEAAkAAAATAAEAAAAEAAkAAAATAAIAAAAEAAkAAAATAAMAAAAEAAkAAAATAAQAAAAEAAkAAAATAAUAAAAEAAkAAAATAAYAAAAEAAkAAAATAAcAAAAEAAkAAAATAAgAAAAEAAkAAAATAAkAAAAEAAkAAAATAAoAAAAEAAkAAAATAAsAAAAEAAkAAAATAAwAAAAEAAkAAAATAA0AAAAEAAkAAAATAA4AAAAEAAkAAAATAA8AAAAEAAkAAAAUAA8AAAAEAAkAAAAUAA4AAAAEAAkAAAAUAA0AAAAEAAkAAAAUAAwAAAAEAAkAAAAUAAsAAAAEAAkAAAAUAAoAAAAEAAkAAAAUAAkAAAAEAAkAAAAUAAgAAAAEAAkAAAAUAAcAAAAEAAkAAAAUAAYAAAAEAAkAAAAUAAUAAAAEAAkAAAAUAAQAAAAEAAkAAAAUAAMAAAAEAAkAAAAUAAIAAAAEAAkAAAAUAAEAAAAEAAkAAAAVAAEAAAAEAAkAAAAVAAIAAAAEAAkAAAAVAAMAAAAEAAkAAAAVAAQAAAAEAAkAAAAVAAUAAAAEAAkAAAAVAAYAAAAEAAkAAAAVAAcAAAAEAAkAAAAVAAgAAAAEAAkAAAAVAAkAAAAEAAkAAAAVAAoAAAAEAAkAAAAVAAsAAAAEAAkAAAAVAAwAAAAEAAkAAAAVAA0AAAAEAAkAAAAVAA4AAAAEAAkAAAAVAA8AAAAEAAkAAAAWAA8AAAAEAAkAAAAWAA4AAAAEAAkAAAAWAA0AAAAEAAkAAAAWAAwAAAAEAAkAAAAWAAsAAAAEAAkAAAAWAAoAAAAEAAkAAAAWAAkAAAAEAAkAAAAWAAgAAAAEAAkAAAAWAAcAAAAEAAkAAAAWAAYAAAAEAAkAAAAWAAUAAAAEAAkAAAAWAAQAAAAEAAkAAAAWAAMAAAAEAAkAAAAWAAIAAAAEAAkAAAAWAAEAAAAEAAkAAAAXAAEAAAAEAAkAAAAXAAIAAAAEAAkAAAAXAAMAAAAEAAkAAAAXAAQAAAAEAAkAAAAXAAUAAAAEAAkAAAAXAAYAAAAEAAkAAAAXAAcAAAAEAAkAAAAXAAgAAAAEAAkAAAAXAAkAAAAEAAkAAAAXAAoAAAAEAAkAAAAXAAsAAAAEAAkAAAAXAAwAAAAEAAkAAAAXAA0AAAAEAAkAAAAXAA4AAAAEAAkAAAAXAA8AAAAEAAkAAAAYAA8AAAAEAAkAAAAYAA4AAAAEAAkAAAAYAA0AAAAEAAkAAAAYAAwAAAAEAAkAAAAYAAsAAAAEAAkAAAAYAAoAAAAEAAkAAAAYAAkAAAAEAAkAAAAYAAgAAAAEAAkAAAAYAAcAAAAEAAkAAAAYAAYAAAAEAAkAAAAYAAUAAAAEAAkAAAAYAAQAAAAEAAkAAAAYAAMAAAAEAAkAAAAYAAIAAAAEAAkAAAAYAAEAAAAEAAkAAAAZAAEAAAAEAAkAAAAZAAIAAAAEAAkAAAAZAAMAAAAEAAkAAAAZAAQAAAAEAAkAAAAZAAUAAAAEAAkAAAAZAAYAAAAEAAkAAAAZAAcAAAAEAAkAAAAZAAgAAAAEAAkAAAAZAAkAAAAEAAkAAAAZAAoAAAAEAAkAAAAZAAsAAAAEAAkAAAAZAAwAAAAEAAkAAAAZAA0AAAAEAAkAAAAZAA4AAAAEAAkAAAAZAA8AAAAEAAkAAAAaAA8AAAAEAAkAAAAaAA4AAAAEAAkAAAAaAA0AAAAEAAkAAAAaAAwAAAAEAAkAAAAaAAsAAAAEAAkAAAAaAAoAAAAEAAkAAAAaAAkAAAAEAAkAAAAaAAgAAAAEAAkAAAAaAAcAAAAEAAkAAAAaAAYAAAAEAAkAAAAaAAUAAAAEAAkAAAAaAAQAAAAEAAkAAAAaAAMAAAAEAAkAAAAaAAIAAAAEAAkAAAAaAAEAAAAEAAkAAAAbAAEAAAAEAAkAAAAbAAIAAAAEAAkAAAAbAAMAAAAEAAkAAAAbAAQAAAAEAAkAAAAbAAUAAAAEAAkAAAAbAAYAAAAEAAkAAAAbAAcAAAAEAAkAAAAbAAgAAAAEAAkAAAAbAAkAAAAEAAkAAAAbAAoAAAAEAAkAAAAbAAsAAAAEAAkAAAAbAAwAAAAEAAkAAAAbAA0AAAAEAAkAAAAbAA4AAAAEAAkAAAAbAA8AAAAEAAkAAAAcAA8AAAAEAAkAAAAcAA4AAAAEAAkAAAAcAA0AAAAEAAkAAAAcAAwAAAAEAAkAAAAcAAsAAAAEAAkAAAAcAAoAAAAEAAkAAAAcAAkAAAAEAAkAAAAcAAgAAAAEAAkAAAAcAAcAAAAEAAkAAAAcAAYAAAAEAAkAAAAcAAUAAAAEAAkAAAAcAAQAAAAEAAkAAAAcAAMAAAAEAAkAAAAcAAIAAAAEAAkAAAAcAAEAAAAEAAkAAAA=")
tile_set = ExtResource("5_sdjt0")
collision_enabled = false
navigation_visibility_mode = 1
metadata/_edit_lock_ = true

[node name="RoadLayer" type="TileMapLayer" parent="TileMaps"]
z_index = -100
material = SubResource("ShaderMaterial_jvw0m")
scale = Vector2(4, 4)
tile_map_data = PackedByteArray("AAAEAAQAAAAEAAUAAAAFAAQAAAAEAAUAAAAGAAQAAAAEAAUAAAAHAAQAAAAEAAUAAAAIAAQAAAAEAAUAAAAJAAQAAAAEAAUAAAAEAAUAAAAEAAcAAAAFAAUAAAAEAAcAAAAGAAUAAAAEAAcAAAAHAAUAAAAEAAcAAAAIAAUAAAAEAAcAAAAJAAUAAAAEAAcAAAALAAYAAAAFAAYAAAALAAcAAAAFAAYAAAAPAAcAAAAFAAYAAAAPAAYAAAAFAAYAAAAKAAcAAAADAAYAAAAKAAYAAAADAAYAAAAOAAYAAAADAAYAAAAOAAcAAAADAAYAAAAOAAQAAAAFAAUAABAMAAkAAAAEAAcAAAANAAkAAAAEAAcAAAANAAgAAAAEAAUAAAAMAAgAAAAEAAUAAAAKAAgAAAADAAYAAAAKAAkAAAADAAcAAAALAAgAAAAEAAYAAAALAAkAAAAEAAcAAAAOAAgAAAAEAAYAACAOAAkAAAAEAAUAACAPAAgAAAAFAAYAACAPAAkAAAAFAAUAACAKAAQAAAAEAAUAAAAKAAUAAAAEAAYAAAALAAQAAAAFAAUAAAALAAUAAAAFAAYAAAAPAAQAAAAEAAUAABAPAAUAAAAEAAYAABAOAAUAAAAFAAYAABAQAAQAAAAEAAUAAAAQAAUAAAAEAAcAAAARAAQAAAAEAAUAAAARAAUAAAAEAAcAAAASAAQAAAAEAAUAAAASAAUAAAAEAAcAAAATAAQAAAAEAAUAAAATAAUAAAAEAAcAAAAUAAQAAAAEAAUAAAAUAAUAAAAEAAUAACAVAAQAAAAFAAUAAAAVAAUAAAAFAAUAACA=")
tile_set = ExtResource("5_sdjt0")
collision_enabled = false
navigation_visibility_mode = 1
metadata/_edit_lock_ = true

[node name="WallLayer" type="TileMapLayer" parent="TileMaps"]
z_index = -100
scale = Vector2(8, 8)
tile_set = ExtResource("5_sdjt0")
navigation_visibility_mode = 1
metadata/_edit_lock_ = true
metadata/Tag = "Wall"

[node name="ObjectLayer" type="TileMapLayer" parent="TileMaps"]
z_index = -100
scale = Vector2(8, 8)
tile_set = ExtResource("5_sdjt0")
navigation_visibility_mode = 1
metadata/_edit_lock_ = true
metadata/Tag = "ObjectLayer"

[node name="Objects" type="Node" parent="."]
metadata/_edit_lock_ = true

[node name="Spring" parent="Objects" instance=ExtResource("7_r1uog")]
position = Vector2(1088, 320)
rotation = -1.5708

[node name="Spring2" parent="Objects" instance=ExtResource("7_r1uog")]
position = Vector2(576, 640)
rotation = 3.14159

[node name="TurnTile" parent="Objects" instance=ExtResource("8_yrypd")]
position = Vector2(1088, 704)
TURN_COUNTERCLOCKWISE = true
metadata/Tag = "TurnTile"

[node name="TurnTile2" parent="Objects" instance=ExtResource("8_yrypd")]
position = Vector2(192, 512)
metadata/Tag = "TurnTile"

[node name="Flag" parent="Objects" instance=ExtResource("8_eld5y")]
position = Vector2(960, 896)

[node name="Car" parent="Objects" node_paths=PackedStringArray("TILEMAP_MANAGER") instance=ExtResource("6_5k435")]
position = Vector2(256, 320)
TILEMAP_MANAGER = NodePath("../../TileMaps")

[node name="PathDirection" parent="Objects" instance=ExtResource("9_jmy22")]
position = Vector2(448, 320)

[node name="PathDirection2" parent="Objects" instance=ExtResource("9_jmy22")]
position = Vector2(576, 320)

[node name="Timers" type="Node" parent="."]

[node name="Global Tick" type="Timer" parent="Timers"]
wait_time = 0.5
autostart = true

[connection signal="timeout" from="Timers/Global Tick" to="Objects/Car" method="_on_global_tick_timeout"]
